{
  "version": 3,
  "sources": ["../../react-error-boundary/dist/react-error-boundary.development.esm.js"],
  "sourcesContent": ["'use client';\r\nimport { createContext, Component, createElement, isValidElement, useContext, useState, useMemo, forwardRef } from 'react';\r\n\r\nconst ErrorBoundaryContext = createContext(null);\r\n\r\nconst initialState = {\r\n  didCatch: false,\r\n  error: null\r\n};\r\nclass ErrorBoundary extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.resetErrorBoundary = this.resetErrorBoundary.bind(this);\r\n    this.state = initialState;\r\n  }\r\n  static getDerivedStateFromError(error) {\r\n    return {\r\n      didCatch: true,\r\n      error\r\n    };\r\n  }\r\n  resetErrorBoundary() {\r\n    const {\r\n      error\r\n    } = this.state;\r\n    if (error !== null) {\r\n      var _this$props$onReset, _this$props;\r\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\r\n        args[_key] = arguments[_key];\r\n      }\r\n      (_this$props$onReset = (_this$props = this.props).onReset) === null || _this$props$onReset === void 0 ? void 0 : _this$props$onReset.call(_this$props, {\r\n        args,\r\n        reason: \"imperative-api\"\r\n      });\r\n      this.setState(initialState);\r\n    }\r\n  }\r\n  componentDidCatch(error, info) {\r\n    var _this$props$onError, _this$props2;\r\n    (_this$props$onError = (_this$props2 = this.props).onError) === null || _this$props$onError === void 0 ? void 0 : _this$props$onError.call(_this$props2, error, info);\r\n  }\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const {\r\n      didCatch\r\n    } = this.state;\r\n    const {\r\n      resetKeys\r\n    } = this.props;\r\n\r\n    // There's an edge case where if the thing that triggered the error happens to *also* be in the resetKeys array,\r\n    // we'd end up resetting the error boundary immediately.\r\n    // This would likely trigger a second error to be thrown.\r\n    // So we make sure that we don't check the resetKeys on the first call of cDU after the error is set.\r\n\r\n    if (didCatch && prevState.error !== null && hasArrayChanged(prevProps.resetKeys, resetKeys)) {\r\n      var _this$props$onReset2, _this$props3;\r\n      (_this$props$onReset2 = (_this$props3 = this.props).onReset) === null || _this$props$onReset2 === void 0 ? void 0 : _this$props$onReset2.call(_this$props3, {\r\n        next: resetKeys,\r\n        prev: prevProps.resetKeys,\r\n        reason: \"keys\"\r\n      });\r\n      this.setState(initialState);\r\n    }\r\n  }\r\n  render() {\r\n    const {\r\n      children,\r\n      fallbackRender,\r\n      FallbackComponent,\r\n      fallback\r\n    } = this.props;\r\n    const {\r\n      didCatch,\r\n      error\r\n    } = this.state;\r\n    let childToRender = children;\r\n    if (didCatch) {\r\n      const props = {\r\n        error,\r\n        resetErrorBoundary: this.resetErrorBoundary\r\n      };\r\n      if (typeof fallbackRender === \"function\") {\r\n        childToRender = fallbackRender(props);\r\n      } else if (FallbackComponent) {\r\n        childToRender = createElement(FallbackComponent, props);\r\n      } else if (fallback === null || isValidElement(fallback)) {\r\n        childToRender = fallback;\r\n      } else {\r\n        {\r\n          console.error(\"react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop\");\r\n        }\r\n        throw error;\r\n      }\r\n    }\r\n    return createElement(ErrorBoundaryContext.Provider, {\r\n      value: {\r\n        didCatch,\r\n        error,\r\n        resetErrorBoundary: this.resetErrorBoundary\r\n      }\r\n    }, childToRender);\r\n  }\r\n}\r\nfunction hasArrayChanged() {\r\n  let a = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\r\n  let b = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\r\n  return a.length !== b.length || a.some((item, index) => !Object.is(item, b[index]));\r\n}\r\n\r\nfunction assertErrorBoundaryContext(value) {\r\n  if (value == null || typeof value.didCatch !== \"boolean\" || typeof value.resetErrorBoundary !== \"function\") {\r\n    throw new Error(\"ErrorBoundaryContext not found\");\r\n  }\r\n}\r\n\r\nfunction useErrorBoundary() {\r\n  const context = useContext(ErrorBoundaryContext);\r\n  assertErrorBoundaryContext(context);\r\n  const [state, setState] = useState({\r\n    error: null,\r\n    hasError: false\r\n  });\r\n  const memoized = useMemo(() => ({\r\n    resetBoundary: () => {\r\n      context.resetErrorBoundary();\r\n      setState({\r\n        error: null,\r\n        hasError: false\r\n      });\r\n    },\r\n    showBoundary: error => setState({\r\n      error,\r\n      hasError: true\r\n    })\r\n  }), [context.resetErrorBoundary]);\r\n  if (state.hasError) {\r\n    throw state.error;\r\n  }\r\n  return memoized;\r\n}\r\n\r\nfunction withErrorBoundary(component, errorBoundaryProps) {\r\n  const Wrapped = forwardRef((props, ref) => createElement(ErrorBoundary, errorBoundaryProps, createElement(component, {\r\n    ...props,\r\n    ref\r\n  })));\r\n\r\n  // Format for display in DevTools\r\n  const name = component.displayName || component.name || \"Unknown\";\r\n  Wrapped.displayName = \"withErrorBoundary(\".concat(name, \")\");\r\n  return Wrapped;\r\n}\r\n\r\nexport { ErrorBoundary, ErrorBoundaryContext, useErrorBoundary, withErrorBoundary };\r\n"],
  "mappings": "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",
  "names": []
}
